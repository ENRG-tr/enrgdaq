daq_job_type = "DAQJobCAENDigitizer"

# --------------------- Connection Settings ---------------------
# See CAEN documentation for details on connection parameters.
# Supported types: "USB", "PCI_EXPRESS_A4818", "PCI_EXPRESS_A2818", "OPTICAL_LINK"
connection_type = "OPTICAL_LINK"
link_number = "1"        # Link number for OPTICAL_LINK/USB, device number for PCI_EXPRESS
conet_node = 0           # CONET node for optical link
vme_base_address = 0     # VME base address

# --------------------- Channel Settings ---------------------
channel_enable_mask = 0b00000000  # Bitmask for enabled channels, e.g., 0b11 for channels 0 and 1
# channel_dc_offsets = {0 = 50, 1 = 50} # DC offsets from 0 to 65535 (can get from CAENScope)

# --------------------- Acquisition Settings ---------------------
record_length = 1024      # Number of samples per waveform
# acquisition_mode: 0=SW_CONTROLLED (default)
max_num_events_blt = 1    # Max number of events per block transfer

# --------------------- Trigger Settings ---------------------
# sw_trigger_mode: 0=DISABLED, 1=ACQ_ONLY, 2=EXTOUT_ONLY, 3=ACQ_AND_EXTOUT
sw_trigger_mode = 1
channel_self_trigger_threshold_mv = 100  # Trigger threshold in mV from baseline
channel_self_trigger_channel_mask = 0b00000000 # Bitmask for channels to use for self-trigger
# trigger_polarity: 0=ON_RISING_EDGE, 1=ON_FALLING_EDGE
trigger_polarity = 0

# --------------------- Analysis Settings ---------------------
# Keep samples that deviate more than this from baseline (symmetric filtering)
filter_threshold_mv = 50  # Threshold in mV

# --------------------- Baseline Settings ---------------------
# Baseline position for value_mv calculation. Options:
#   "TOP"    - Baseline at 1023 (max ADC value), signals go negative
#   "MIDDLE" - Baseline at 512 (center), signals go both ways
#   "BOTTOM" - Baseline at 0 (min ADC value), signals go positive
baseline_position = "TOP"

# --------------------- Storage Settings ---------------------
[waveform_store_config.raw]
file_path = "caen_digitizer_waveforms.raw"
add_date = true
overwrite = true

[stats_store_config.csv]
file_path = "caen_digitizer_stats.csv"
add_date = true
overwrite = true